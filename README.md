# 1. 本项目 GeoClassifier 采用的算法

SVM, Cart, Random Forest, Naive Bayes Classifier 

最终采用的代码是 TidalFlat.js 

# 2. 研究背景

全球土地分类的研究依赖于计算系统的数据处理能力，因此大多数研究的分类精读较低。Hansen等 (2000)、Bartholome等(2005)、Gong等(2013)利用遥感数据集制作了几张全球范围的土地覆盖地图，这些地图极大地促进了世界各地的土地利用和土地覆盖监测。Murray等(2019)的算法提取的结果计算偏大，将大量人工建筑区域都划分为潮滩区域，因此本章节容纳了Sentinel-1和 Sentinel-2的数据，计算结果分辨率达到10米级别，在这样的分辨率下可以精确描绘出潮沟的形状。在全球气候变化和海洋富营养化背景下，基于本算法提取出的潮滩区域可进一步与地球系统模型耦合，从而更准确地评估全球气候变化等问题。

# 3. 具体算法

遥感影像分类算法有监督分类和非监督分类2种，在监督分类通常采用分类回归树(Classification and regression tree，简称CART)、随机森林(Random forest)、支持向量机(Support vector machines，简称SVM）和朴素贝叶斯(Naive bayes)。

# 4. 海岸线矢量数据（见 SimplifiedCoastlineShape）

刘闯等(2019)研发了基于Google Earth遥感影像全球海陆（岛）岸线数据集，该数据集是通过河口地形和地貌特点来判别的海洋潮汐能够起到主要影响作用的上限。本章的算法是基于刘闯等(2019)研发的数据集，由于该数据集的结点过多不便于大规模计算，所以采用QGIS的简化算法处理过多结点，只保留海岸线的大致轮。简化后的海岸线轮廓数据集可以通过Github链接下载，包含亚洲(AS)、欧洲(EU)、非洲(AF)、北美洲(NA)、南美洲(SA)、大洋洲(OA)这六个大洲的大陆岸线(C)和岛屿岸线(I)，不包含南极洲。

# 5. 卫星遥感格栅数据

本文采用的数据集包括Sentinel-1的全天候雷达影像、Sentinel-2的高分辨率光学影像和SRTM高程数据集，如表6.2.1所示。而Landsat光学影像和ETOPO1高程数据集的分辨率太低，无法描绘出潮沟的形状，所以不被采用。本章的计算结果分辨率达到10米级别，在这样的分辨率下，可以描绘出潮沟的形状。

# 6. 计算步骤

基于Sentinel-1的SDWI值和基于Sentinel-2的NDWI和NDVI值都可以用于区分水体与非水体，从而获得所有遥感影像的海陆分界线。

具体计算步骤：

本章节基于 Google Earth Engine平台，将Sentinel-1与Sentinel-2数据相结合，计算SDWI、NDWI和NDVI对全球潮滩无植被覆盖沉积物进行识别与提取研究。采用随机森林算法，描绘了全球的潮间带光滩分布。随机森林分类算法的原理是随机建立多棵决策树，在分类时对样本进行判断和投票，投票数作为最终的判断依据。目前，随机森林算法已广泛应用于土地覆盖、森林、湿地分类等诸多领域，在分类精度等方面有一定优势。

第一步，选定本章节的计算域为北纬60°到南纬60°之间，接着将全球海岸矢量数据集导入GEE计算平台。并创建批处理函数，包括一个利用QA60的波段数据来掩模云以及卷云的函数、一个利用绿色和近红外的波段数据来计算NDWI的函数、一个利用红色和近红外的波段数据来计算NDVI的函数、一个使用VV和VH波段来计算SDWI的函数以及一个使图像平滑的函数。这些函数可实现后续批量去云、地物分类和平滑图像等操作。

第二步，首先，进行遥感影像的分类标注，样本点的选取根据 GEE 合成的RGB原始影像进行目视解译，首先选取1000个样本点，将我国部分潮滩的遥感卫星图像分为光滩、水面和其它。接着，导入亚洲区域的Sentinel-1的全天候雷达影像、Sentinel-2的高分辨率光学影像和SRTM高程数据集。为了减少不必要的处理，采用与海岸线相交的Sentinel遥感影像，Sentinel-1的幅宽达到400 km，Sentinel-2的幅宽达290 km。选择2018年云百分比小于10，与海岸线相交的Sentinel-2的B3、B8和B4波段，计算NDWI和NDVI的最大值、最小值和标准差；再分别选取2018年4个季度的，与海岸线相交的Sentinel-2的VV和VH波段，分别计算者4个季度各个波段SDWI的最大值、最小值和标准差。建筑用地在光滩提取中容易对提取结果造成干扰，而建筑材料在热红外波段的反射率很高，但在近红外波段的反射率却很低，因此运用Sentinel-2 数据中的B4、B5、B12 波段在GEE中进行计算。将4个SDWI、NDWI和NDVI平均值的最大值、最小值和标准差，以及B4、B5、B12 波段平均值这21个图像集合并成新的图像集。利用这个新的图像集使用随机森林法进行监督分类。本研究将待生成决策树数目设为100，在总样本中随机选择90 %的样本数据作为训练样本，剩余10 %的样本数据作为精度评定样本。最后，查看分类结果。如果分类错误，则在分类错误的像素点上进一步添加带有正确分类标签的样本点，重新进行随机森林训练直至分类结果正确。

第三步，用亚洲海岸区域训练的随机森林分类器推广到全球，导入全球的Sentinel-1的全天候雷达影像、Sentinel-2的高分辨率光学影像。与第二步类似，提取Sentinel遥感影像的特征集合，可视化分类结果，并计算全球光滩面积。

# 其他：关于 3D GIS 可以参考

[maptalks.js](https://github.com/YutingYao/maptalks.js)

[three-geo](https://github.com/YutingYao/three-geo)

[cesium](https://github.com/YutingYao/cesium)